function Slidezy(selector,options={}){this.container=document.querySelector(selector);if(!this.container){throw new Error(`Slidezy: Container "${selector}" not found!`)}this.opt=Object.assign({items:1,loop:false,speed:300,pagination:true,controls:true,controlsText:["<",">"],prevButton:null,nextButton:null,slideBy:1,autoplay:false,autoplayDelay:3e3,autoplayPauseOnHover:true},options);this.slides=Array.from(this.container.children);this._slideCount=this.slides.length;this.currentIndex=this.opt.loop?this._getCloneCount():0;this._maxIndex=this.slides.length-this.opt.items;this._init();this._updatePosition()}Slidezy.prototype._init=function(){this.container.classList.add("slidezy-wrapper");this._createContent();this._createTrack();this.opt.controls&&this._createControls();this.opt.pagination&&this._createPagination();if(this.opt.autoplay){this._startAutoplay();this.opt.autoplayPauseOnHover&&this._setupAutoplayHover()}};Slidezy.prototype._startAutoplay=function(){if(this.autoplayId)return;const slideBy=this._getSlideBy();this.autoplayId=setInterval(()=>{this.moveSlide(slideBy)},this.opt.autoplayDelay)};Slidezy.prototype._stopAutoplay=function(){if(this.autoplayId){clearInterval(this.autoplayId);this.autoplayId=null}};Slidezy.prototype._setupAutoplayHover=function(){this.content.addEventListener("mouseenter",()=>this._stopAutoplay());this.content.addEventListener("mouseleave",()=>this._startAutoplay())};Slidezy.prototype._createContent=function(){this.content=document.createElement("div");this.content.className="slidezy-content";this.container.appendChild(this.content)};Slidezy.prototype._getCloneCount=function(){if(this._slideCount<=this.opt.items)return 0;const slideBy=this._getSlideBy();const cloneCount=this.opt.items+slideBy;return cloneCount>this._slideCount?this._slideCount:cloneCount};Slidezy.prototype._createTrack=function(){this.track=document.createElement("div");this.track.className="slidezy-track";const{items:items,loop:loop}=this.opt;const cloneCount=this._getCloneCount();if(loop&&cloneCount>0){const cloneHead=this.slides.slice(-cloneCount).map(slide=>slide.cloneNode(true));const cloneTail=this.slides.slice(0,cloneCount).map(slide=>slide.cloneNode(true));this.slides=cloneHead.concat(this.slides).concat(cloneTail);this._maxIndex=this.slides.length-items}this.slides.forEach(slide=>{slide.classList.add("slidezy-slide");slide.style.flexBasis=`calc(100% / ${items})`;this.track.appendChild(slide)});this.content.appendChild(this.track)};Slidezy.prototype._createPagination=function(){const{items:items,loop:loop}=this.opt;this.paginationWrapper=document.createElement("div");this.paginationWrapper.classList.add("slidezy-pagination");const pageCount=Math.ceil(this._slideCount/items);for(let i=0;i<pageCount;i++){const paginationBtn=document.createElement("button");paginationBtn.classList.add("slidezy-pagination-button");paginationBtn.addEventListener("click",()=>{let step=i*items-this.currentIndex;if(this.opt.loop)step+=this._getCloneCount();this.moveSlide(step)});this.paginationWrapper.appendChild(paginationBtn)}this.container.appendChild(this.paginationWrapper)};Slidezy.prototype._updatePagination=function(){if(!this.paginationWrapper)return;const{items:items,loop:loop}=this.opt;let realIndex=this.currentIndex;if(loop){realIndex=(this.currentIndex-this._getCloneCount()+this._slideCount)%this._slideCount}let pageIndex=Math.floor(realIndex/items);if(!loop&&realIndex===this._maxIndex){const pageCount=Math.ceil(this._slideCount/items);pageIndex=pageCount-1}const paginationBtns=Array.from(this.paginationWrapper.children);paginationBtns.forEach((btn,index)=>{btn.classList.toggle("active",pageIndex===index)})};Slidezy.prototype._createControls=function(){const{items:items,prevButton:prevButton,nextButton:nextButton,slideBy:slideBy}=this.opt;this.prevBtn=prevButton?document.querySelector(prevButton):document.createElement("button");this.nextBtn=nextButton?document.querySelector(nextButton):document.createElement("button");if(!prevButton){this.prevBtn.className="slidezy-prev";this.prevBtn.textContent=this.opt.controlsText[0];this.content.appendChild(this.prevBtn)}if(!nextButton){this.nextBtn.className="slidezy-next";this.nextBtn.textContent=this.opt.controlsText[1];this.content.appendChild(this.nextBtn)}const stepBy=this._getSlideBy();this.prevBtn.addEventListener("click",()=>{this.moveSlide(-stepBy)});this.nextBtn.addEventListener("click",()=>{this.moveSlide(stepBy)});this._disableBtn()};Slidezy.prototype._getSlideBy=function(){return this.opt.slideBy==="page"?this.opt.items:this.opt.slideBy};Slidezy.prototype.moveSlide=function(step){if(this._isMoving)return;this._isMoving=true;this.currentIndex=Math.min(Math.max(this.currentIndex+step,0),this._maxIndex);setTimeout(()=>{if(this.opt.loop){this._handleLoop()}this._isMoving=false},this.opt.speed);if(!this.opt.loop)this._disableBtn();this._updatePosition()};Slidezy.prototype._handleLoop=function(){const cloneCount=this._getCloneCount();if(this.currentIndex>this._maxIndex-cloneCount){this.currentIndex-=this._slideCount;this._updatePosition(true)}else if(this.currentIndex<cloneCount){this.currentIndex+=this._slideCount;this._updatePosition(true)}};Slidezy.prototype._updatePosition=function(instant=false){this.track.style.transition=instant?"none":`transform ${this.opt.speed}ms ease`;this.offset=-(this.currentIndex*(100/this.opt.items));this.track.style.transform=`translateX(${this.offset}%)`;if(this.opt.pagination&&!instant)this._updatePagination()};Slidezy.prototype._disableBtn=function(){this.prevBtn.classList.toggle("disable",this.currentIndex<=0);this.nextBtn.classList.toggle("disable",this.currentIndex>=this._maxIndex)};